name: "trun"
description: "CLI test utility for Deno and the Browser"
inputs:
  browser:
    description: "whether to run tests in the browser"
  browser-exec-path:
    description: "path to the browser binary"
  concurrency:
    description: "number of tests to be run in parallel"
  dir:
    required: true
    description: "directory to run tests -- relative to cwd"
  filter:
    description: "comma delimitated string of files to run -- relative to dir"
  headless:
    description: "whether to run the browser in headless mode"
  ignore:
    description: "name of ignore file -- relative to dir"
  importMap:
    description: "name of deno import map file -- relative to cwd"
  output:
    description: "name of file to output test results to -- relative to cwd"
  reload-url:
    description: "url that is passed to the -r flag in deno run"

runs:
  using: "docker"
  image: "Dockerfile"
  args:
    - ${{ inputs.browser }} # 1
    - ${{ inputs.browser-exec-path }} # 2
    - ${{ inputs.concurrency }} # 3
    - ${{ inputs.dir }} # 4
    - ${{ inputs.filter }} # 5
    - ${{ inputs.headless }} # 6
    - ${{ inputs.ignore }} # 7
    - ${{ inputs.importMap }} # 8
    - ${{ inputs.output }} # 9
    - ${{ inputs.reload-url }} # 10
